@use 'utilities/variables' as vars;
@use 'design-system' as ds;

// ==========================================
// SUBSCRIPTIONS PAGE - StudioZ Design System
// Theme: Dark Mode Dominant, Professional, High-Contrast
// ==========================================

// Local aliases (referencing design system)
$subscriptions-primary: ds.$primary-yellow;
$subscriptions-primary-foreground: ds.$primary-black;
$subscriptions-surface: ds.$zinc-900;
$subscriptions-surface-dark: ds.$zinc-950;
$subscriptions-border: ds.$border-primary;
$subscriptions-muted: ds.$white-60;

// Container
.subscriptions-container {
  max-width: 1200px;
  margin: 0 auto;
}

// Section Titles
.subscriptions-section-title {
  font-size: clamp(1.75rem, 4vw, 2.5rem);
  font-weight: 700;
  margin-bottom: vars.$spacing-medium;
  color: vars.$text-color-primary;
}

.subscriptions-section-subtitle {
  font-size: vars.$font-size-medium;
  color: $subscriptions-muted;
  max-width: 640px;
}

// ==========================================
// BUTTONS
// ==========================================
.subscriptions-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: vars.$spacing-small;
  font-weight: 700;
  font-size: vars.$font-size-medium;
  padding: vars.$spacing-medium vars.$spacing-xl;
  border-radius: vars.$border-radius-3xl;
  cursor: pointer;
  transition: all 0.2s;
  border: none;
  white-space: nowrap;
  text-decoration: none;

  svg {
    width: 20px;
    height: 20px;

    [dir='rtl'] & {
      transform: scaleX(-1);
    }
  }

  &--primary {
    background: $subscriptions-primary;
    color: $subscriptions-primary-foreground;
    box-shadow: 0 0 20px rgba(255, 209, 102, 0.3);

    &:hover {
      background: rgba($subscriptions-primary, 0.9);
      box-shadow: 0 0 30px rgba(255, 209, 102, 0.5);
      transform: scale(1.02);
    }
  }

  &--secondary {
    background: rgba(255, 255, 255, 0.1);
    color: vars.$text-color-primary;
    border: 1px solid $subscriptions-border;

    &:hover {
      background: rgba(255, 255, 255, 0.2);
    }
  }
}

// ==========================================
// PAGE CONTAINER
// ==========================================
.subscriptions-page {
  min-height: 100vh;
  background: vars.$bg-color-primary;
  color: vars.$text-color-primary;
  overflow-x: hidden;
  position: relative;
  // Break out of main's max-width to be full-bleed (edge-to-edge)
  width: 100vw;
  margin-left: calc(-50vw + 50%);
  margin-right: calc(-50vw + 50%);

  &__glow {
    position: absolute;
    border-radius: 50%;
    filter: blur(120px);
    opacity: 0.15;
    pointer-events: none;
    z-index: 0;

    &--primary {
      top: 0;
      left: 20%;
      width: 500px;
      height: 500px;
      background: $subscriptions-primary;

      [dir='rtl'] & {
        left: auto;
        right: 20%;
      }
    }

    &--blue {
      top: 10%;
      right: 20%;
      width: 400px;
      height: 400px;
      background: #3b82f6;

      [dir='rtl'] & {
        right: auto;
        left: 20%;
      }
    }
  }
}

// ==========================================
// HERO SECTION
// ==========================================
.subscriptions-hero {
  position: relative;
  z-index: 1;
  padding: 5rem 1.5rem 3rem;
  text-align: center;

  @media (min-width: 768px) {
    padding: 8rem 1.5rem 4rem;
  }

  // Constrain content to 1540px on large screens (matching header)
  @media screen and (min-width: 1540px) {
    padding-left: calc((100vw - 1540px) / 2 + 1.5rem);
    padding-right: calc((100vw - 1540px) / 2 + 1.5rem);
  }

  &__title {
    font-size: clamp(2rem, 6vw, 4rem);
    font-weight: 700;
    letter-spacing: -0.02em;
    line-height: 1.1;
    margin-bottom: vars.$spacing-large;
  }

  &__accent {
    color: $subscriptions-primary;
  }

  &__description {
    font-size: clamp(1rem, 2vw, 1.25rem);
    color: $subscriptions-muted;
    max-width: 640px;
    margin: 0 auto;
    line-height: 1.6;
  }
}

// ==========================================
// PRICING GRID
// ==========================================
.subscriptions-pricing {
  position: relative;
  z-index: 1;
  padding: vars.$spacing-2xl 1.5rem;

  // Constrain content to 1540px on large screens (matching header)
  @media screen and (min-width: 1540px) {
    padding-left: calc((100vw - 1540px) / 2 + 1.5rem);
    padding-right: calc((100vw - 1540px) / 2 + 1.5rem);
  }

  &__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: vars.$spacing-xl;
    max-width: 1200px;
    margin: 0 auto;

    @media (min-width: 768px) {
      grid-template-columns: repeat(3, 1fr);
      align-items: stretch;
    }
  }
}

// ==========================================
// PRICING CARDS
// ==========================================
.subscriptions-card {
  position: relative;
  background: vars.$bg-color-primary;
  border: 1px solid $subscriptions-border;
  border-radius: vars.$border-radius-3xl;
  padding: vars.$spacing-xl;
  display: flex;
  flex-direction: column;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-4px);
    border-color: rgba(255, 255, 255, 0.2);
    background: $subscriptions-surface-dark;
  }

  &--popular {
    background: $subscriptions-surface;
    border-color: rgba($subscriptions-primary, 0.5);
    box-shadow: 0 0 40px rgba(255, 209, 102, 0.1);

    @media (min-width: 768px) {
      transform: scale(1.05);
      z-index: 10;

      &:hover {
        transform: scale(1.05) translateY(-4px);
      }
    }
  }

  &--selected {
    border-color: $subscriptions-primary;
    box-shadow: 0 0 30px rgba(255, 209, 102, 0.2);
  }

  &__badge {
    position: absolute;
    top: -14px;
    left: 50%;
    transform: translateX(-50%);
    background: $subscriptions-primary;
    color: $subscriptions-primary-foreground;
    font-size: vars.$font-size-small;
    font-weight: 700;
    padding: vars.$spacing-xs vars.$spacing-medium;
    border-radius: vars.$border-radius-3xl;
    display: flex;
    align-items: center;
    gap: vars.$spacing-xs;
    box-shadow: 0 4px 12px rgba(255, 209, 102, 0.4);
    white-space: nowrap;

    svg {
      width: 14px;
      height: 14px;
    }
  }

  &__current {
    position: absolute;
    top: -14px;
    left: vars.$spacing-xl;
    background: rgba(255, 255, 255, 0.15);
    color: vars.$text-color-primary;
    font-size: vars.$font-size-small;
    font-weight: 600;
    padding: vars.$spacing-xs vars.$spacing-medium;
    border-radius: vars.$border-radius-3xl;
    border: 1px solid rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);

    [dir='rtl'] & {
      left: auto;
      right: vars.$spacing-xl;
    }
  }

  &__header {
    margin-bottom: vars.$spacing-xl;
  }

  &__name {
    font-size: vars.$font-size-xl;
    font-weight: 700;
    margin-bottom: vars.$spacing-small;
    color: vars.$text-color-primary;
  }

  &__highlight {
    color: $subscriptions-muted;
    font-size: vars.$font-size-sm-md;
    margin: 0;
    min-height: 2.5em;
  }

  &__price {
    margin-bottom: vars.$spacing-xl;
    display: flex;
    align-items: baseline;
    gap: vars.$spacing-xs;
  }

  &__amount {
    font-size: clamp(2rem, 4vw, 2.5rem);
    font-weight: 700;
    color: vars.$text-color-primary;
  }

  &__period {
    color: $subscriptions-muted;
    font-size: vars.$font-size-medium;
  }

  &__cta {
    width: 100%;
    padding: vars.$spacing-medium vars.$spacing-xl;
    border-radius: vars.$border-radius-3xl;
    border: none;
    font-size: vars.$font-size-medium;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: vars.$spacing-small;
    margin-bottom: vars.$spacing-xl;
    background: rgba(255, 255, 255, 0.1);
    color: vars.$text-color-primary;

    svg {
      width: 18px;
      height: 18px;

      [dir='rtl'] & {
        transform: scaleX(-1);
      }
    }

    &:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    &--primary {
      background: $subscriptions-primary;
      color: $subscriptions-primary-foreground;
      box-shadow: 0 0 20px rgba(255, 209, 102, 0.3);

      &:hover {
        background: rgba($subscriptions-primary, 0.9);
        box-shadow: 0 0 30px rgba(255, 209, 102, 0.5);
      }
    }
  }

  &__features {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: vars.$spacing-medium;
  }

  &__features-label {
    font-size: vars.$font-size-small;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: vars.$text-color-primary;
    margin: 0 0 vars.$spacing-small;
  }

  &__feature {
    display: flex;
    align-items: flex-start;
    gap: vars.$spacing-sm-md;
    font-size: vars.$font-size-sm-md;
    color: rgba(255, 255, 255, 0.8);

    svg {
      width: 20px;
      height: 20px;
      color: $subscriptions-primary;
      flex-shrink: 0;
      margin-top: 2px;
    }

    &--disabled {
      color: rgba(255, 255, 255, 0.35);

      span {
        text-decoration: line-through;
      }

      svg {
        color: rgba(255, 255, 255, 0.25);
      }
    }
  }
}

// ==========================================
// PAYMENT SECTION
// ==========================================
.subscriptions-payment {
  position: relative;
  z-index: 1;
  padding: vars.$spacing-2xl 1.5rem;

  // Constrain content to 1540px on large screens (matching header)
  @media screen and (min-width: 1540px) {
    padding-left: calc((100vw - 1540px) / 2 + 1.5rem);
    padding-right: calc((100vw - 1540px) / 2 + 1.5rem);
  }

  &__wrapper {
    max-width: 800px;
    margin: 0 auto;
    animation: slideIn 0.5s ease forwards;
  }
}

// ==========================================
// FAQ SECTION
// ==========================================
.subscriptions-faq {
  position: relative;
  z-index: 1;
  padding: vars.$spacing-3xl 1.5rem;

  // Constrain content to 1540px on large screens (matching header)
  @media screen and (min-width: 1540px) {
    padding-left: calc((100vw - 1540px) / 2 + 1.5rem);
    padding-right: calc((100vw - 1540px) / 2 + 1.5rem);
  }

  &__header {
    text-align: center;
    margin-bottom: vars.$spacing-2xl;
  }

  &__list {
    max-width: 768px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: vars.$spacing-medium;
  }

  &__item {
    background: rgba($subscriptions-surface, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: vars.$border-radius-2xl;
    overflow: hidden;
  }

  &__question {
    width: 100%;
    padding: vars.$spacing-large vars.$spacing-xl;
    display: flex;
    align-items: center;
    justify-content: space-between;
    text-align: start;
    background: transparent;
    border: none;
    color: vars.$text-color-primary;
    font-size: vars.$font-size-large;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.2s;

    &:hover {
      background: rgba(255, 255, 255, 0.05);
    }

    svg {
      color: $subscriptions-muted;
      flex-shrink: 0;
    }
  }

  &__answer-wrapper {
    overflow: hidden;
  }

  &__answer {
    padding: 0 vars.$spacing-xl vars.$spacing-xl;
    color: $subscriptions-muted;
    line-height: 1.6;
  }
}

// ==========================================
// CTA SECTION
// ==========================================
.subscriptions-cta {
  position: relative;
  z-index: 1;
  padding: vars.$spacing-3xl 1.5rem;
  overflow: hidden;

  // Constrain content to 1540px on large screens (matching header)
  @media screen and (min-width: 1540px) {
    padding-left: calc((100vw - 1540px) / 2 + 1.5rem);
    padding-right: calc((100vw - 1540px) / 2 + 1.5rem);
  }

  &__overlay {
    position: absolute;
    inset: 0;
    background: rgba($subscriptions-primary, 0.08);
  }

  &__content {
    position: relative;
    z-index: 10;
    text-align: center;
    max-width: 640px;
    margin: 0 auto;
  }

  &__title {
    font-size: clamp(1.5rem, 4vw, 2.25rem);
    font-weight: 700;
    margin-bottom: vars.$spacing-medium;
    color: vars.$text-color-primary;
  }

  &__description {
    font-size: vars.$font-size-medium;
    color: $subscriptions-muted;
    margin-bottom: vars.$spacing-xl;
    line-height: 1.6;
  }
}

// ==========================================
// ANIMATIONS
// ==========================================
@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// ==========================================
// RESPONSIVE
// ==========================================
@media (max-width: 768px) {
  .subscriptions-pricing__grid {
    gap: vars.$spacing-2xl;
  }

  .subscriptions-card {
    &--popular {
      order: -1;
    }

    &__badge {
      top: -12px;
    }
  }
}
